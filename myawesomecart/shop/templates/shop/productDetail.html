{% extends 'shop/base.html' %}

{% block title %}{{ product.product_name }} | My Awesome Cart{% endblock %}

{% block extra_head %}
<style>
  .product-img {
    max-width: 100%;
    height: auto;
    object-fit: cover;
    border: 1px solid #ddd;
    padding: 10px;
    background-color: #f9f9f9;
  }

  .product-detail {
    font-size: 1rem;
  }

  .price {
    font-size: 1.5rem;
    color: #b12704;
    font-weight: 600;
  }

  .btn-buy {
    background-color: #ffd814;
    color: #111;
    font-weight: 500;
  }

  .btn-buy:hover {
    background-color: #f7ca00;
    color: #000;
  }

  .btn-cart {
    background-color: #ffa41c;
    color: white;
    font-weight: 500;
  }

  .btn-cart:hover {
    background-color: #f08804;
  }
</style>
{% endblock %}

{% block content %}
{% load static %}
<div class="container">
  <div class="row">
    <!-- Product Image -->
    <div class="col-md-5 text-center">
      {% if product.image %}
        <img src="{{ product.image.url }}" class="product-img img-fluid" alt="{{ product.product_name }}">
      {% else %}
        <img src="{% static 'images/no-image.png' %}" class="product-img img-fluid" alt="No image available">
      {% endif %}
    </div>

    <!-- Product Info -->
    <div class="col-md-7 product-detail">
      <h2 class="mb-3">{{ product.product_name }}</h2>
      <p><strong>Category:</strong> {{ product.category }}</p>
      <p><strong>Subcategory:</strong> {{ product.subcategory }}</p>
      <p class="price">â‚¹{{ product.price }}</p>
      <p>{{ product.desc }}</p>

      <!-- Buttons -->
      <div class="d-flex gap-3 mt-4">
        <button class="btn btn-cart px-4" id="add-to-cart">Add to Cart</button>
        <button class="btn btn-buy px-4" id="buy-now">Buy Now</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% comment %} {% block extra_scripts %}
<script>
  // Simulated cart addition
  document.getElementById('add-to-cart').addEventListener('click', function() {
    let cart = localStorage.getItem('cart');
    cart = cart ? JSON.parse(cart) : {};
    let productId = "{{ product.id }}";
    if (cart[productId]) {
      cart[productId] += 1;
    } else {
      cart[productId] = 1;
    }
    localStorage.setItem('cart', JSON.stringify(cart));
    alert("Added to cart!");
  });

  document.getElementById('buy-now').addEventListener('click', function() {
    alert("Proceed to checkout (functionality pending)");
  });
</script>
{% endblock %} {% endcomment %}
